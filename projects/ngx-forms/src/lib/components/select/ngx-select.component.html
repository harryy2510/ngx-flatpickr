<div class="form-group">

  <ng-template [ngIf]="label">
    <label [for]="inputId">
      {{ label }}
      <ng-template [ngIf]="!!_validators?.required"><sup class="text-danger">*</sup></ng-template>
    </label>
  </ng-template>

  <ng-select
    #inputField="ngModel"
    class="form-control"
    [disabled]="readonly"
    [disabled]="disabled"
    [labelForId]="inputId"
    [name]="name"
    [placeholder]="placeholder + (!!_validators?.required && placeholder ? ' *' : '')"
    [(ngModel)]="value"
    (change)="emitChange()"
    [required]="!!_validators?.required"
    [items]="options"
    [searchFn]="searchFn"
    [bindLabel]="bindLabel"
    [bindValue]="bindValue"
    [clearable]="multiple"
    [multiple]="multiple"
    [closeOnSelect]="!multiple"
    [dropdownPosition]="dropdownPosition"></ng-select>

  <ng-template ngFor [ngForOf]="_validators | keyvalue" let-item>
    <ng-template [ngIf]="(inputField?.touched || form?.submitted) && (inputField?.errors && inputField?.errors[item?.key])">
      <div class="invalid-feedback">
        {{_validators[item?.key] | message: name}}
      </div>
    </ng-template>
  </ng-template>
</div>

