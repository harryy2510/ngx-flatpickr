<div class="form-group">

  <ng-template [ngIf]="label">
    <label [for]="inputId">
      {{ label }}
      <ng-template [ngIf]="!!_validators?.required"><sup class="text-danger">*</sup></ng-template>
    </label>
  </ng-template>


  <input
    #inputField="ngModel"
    passwordToggle
    class="form-control"
    [readonly]="readonly"
    [disabled]="disabled"
    type="password"
    [id]="inputId"
    [name]="name"
    [placeholder]="placeholder + (!!_validators?.required && placeholder ? ' *' : '')"
    [(ngModel)]="value"
    (input)="emitChange()"
    [required]="!!_validators?.required"
    [min]="_validators?.min?.value"
    [gt]="_validators?.gt?.value"
    [gte]="_validators?.gte?.value"
    [max]="_validators?.max?.value"
    [lt]="_validators?.lt?.value"
    [lte]="_validators?.lte?.value"
    [range]="_validators?.range?.value"
    [equal]="_validators?.equal?.value"
    [notEqual]="_validators?.notEqual?.value"
    [pattern]="_validators?.pattern?.value"
    [attr.aria-labelledby]="!label && placeholder ? 'ngx-aria-label-' + inputId : null"
    [attr.aria-invalid]="!!((inputField?.touched || form?.submitted) && inputField?.errors)"
    [attr.aria-describedby]="!!((inputField?.touched || form?.submitted) && inputField?.errors) ? 'ngx-error-' + inputId : ( hint ? 'ngx-hint-' + inputId : null )">


  <ng-template [ngIf]="(inputField?.touched || form?.submitted) && inputField?.errors" [ngIfElse]="hintTemplate">
    <ng-template ngFor [ngForOf]="_validators | keyvalue" let-item>
      <ng-template [ngIf]="inputField?.errors[item?.key]">
        <div [id]="'ngx-error-' + inputId" class="invalid-feedback">
          {{_validators[item?.key] | message: name}}
        </div>
      </ng-template>
    </ng-template>
  </ng-template>
  <ng-template #hintTemplate>
    <ng-template [ngIf]="hint">
      <div [id]="'ngx-hint-' + inputId" class="feedback">
        {{ hint }}
      </div>
    </ng-template>
  </ng-template>
</div>


<ng-template [ngIf]="!label && placeholder">
  <div [attr.aria-hidden]="true" style="display: none" [id]="'ngx-aria-label-' + inputId">{{ placeholder }}</div>
</ng-template>
